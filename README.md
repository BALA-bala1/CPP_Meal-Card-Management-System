# C_Meal-Card-Management-System
# 饭卡管理系统

这个C语言项目实现了一个完整的饭卡管理系统，提供了饭卡管理的核心功能，包括创建饭卡、消费、充值、挂失管理、注销以及多种查询方式。

## 功能概述

### 核心功能
1. **建立饭卡文件**：初始化饭卡系统并创建饭卡
2. **买饭消费**：使用饭卡进行消费扣款
3. **续钱充值**：为饭卡增加余额
4. **添加新饭卡**：向系统中添加新饭卡
5. **注销旧饭卡**：从系统中移除饭卡
6. **挂失管理**：设置或解除饭卡挂失状态
7. **查询功能**：提供多种查询方式

### 详细功能说明
| 功能 | 描述 | 输入要求 |
|------|------|----------|
| 建立饭卡 | 初始化系统并创建指定数量的饭卡 | 饭卡数量(整数) |
| 买饭消费 | 使用饭卡支付消费金额 | 饭卡号(整数)，消费金额(整数/小数) |
| 续钱充值 | 为饭卡增加余额 | 饭卡号(整数)，充值金额(整数/小数) |
| 添加饭卡 | 在系统中添加新饭卡 | 添加数量(整数) |
| 注销饭卡 | 从系统中移除饭卡 | 注销数量(整数) |
| 挂失管理 | 设置或解除饭卡挂失状态 | 饭卡号(整数)，挂失状态(0或1) |
| 按卡号查询 | 根据饭卡号查询信息 | 6位饭卡号(整数) |
| 按姓名查询 | 根据持卡人姓名查询 | 持卡人姓名(字符串) |
| 按余额查询 | 根据余额查询饭卡 | 余额(整数/小数) |
| 按状态查询 | 根据挂失状态查询 | 挂失状态(0或1) |

## 数据结构

系统使用结构体存储饭卡信息：
```c
typedef struct {
    int k;              // 饭卡号（6位数字）
    char name[100];     // 持卡人姓名
    double j;           // 余额
    int g;              // 挂失状态（0-挂失，1-正常）
} Person;
```

## 文件格式

饭卡数据存储在`card.txt`文件中，每行代表一张饭卡，格式为：
```
饭卡号 持卡人姓名 余额 挂失状态
```

示例：
```
123456 张三 100.500000 1
654321 李四 50.250000 0
```

## 编译与运行

### 编译
```bash
gcc -o card_system main.c
```

### 运行
```bash
./card_system
```

## 使用示例

1. **初始化系统**：
   ```
   请输入选项编号(0~7)
   1--建立饭卡文件
   > 1
   请输入饭卡数量
   > 2
   ```

2. **添加新饭卡**：
   ```
   请输入选项编号(0~7)
   4--添加新饭卡
   > 4
   请输入添加饭卡数量
   > 1
   ```

3. **消费**：
   ```
   请输入选项编号(0~7)
   2--买饭
   > 2
   请输入买饭饭卡号
   > 123456
   请输入饭钱
   > 15.5
   ```

4. **查询**：
   ```
   请输入选项编号(0~7)
   7--查询饭卡信息
   > 7
   1--根据卡号查询
   > 1
   请输入饭卡号
   > 123456
   ```

## 注意事项

1. 饭卡号系统自动生成6位唯一数字
2. 余额支持整数和小数输入
3. 挂失状态只接受0(挂失)或1(正常)
4. 消费时余额不足或饭卡挂失会操作失败
5. 所有数据保存在`card.txt`文件中

## 开发说明

- 使用标准C库实现
- 支持Linux/Windows系统
- 包含完整输入验证
- 使用文件存储持久化数据

这个系统适合学校、企业等场景的饭卡管理需求，提供了完整的生命周期管理功能。
